<header>

  <nav class="navbar navbar-expand-md navbar-light bg-white border-bottom">
    
    <div class="container-fluid px-md-4">
      <div class="d-flex w-100 navbar-collapse">

        <a class="navbar-brand d-flex-inline" href="{% url 'store:home' %}">
          <svg xmlns="http://www.w3.org/2000/svg" width="66" height="66" fill="currentColor" class="bi bi-book-half"
            viewBox="0 0 16 16">
            <path
              d="M8.5 2.687c.654-.689 1.782-.886 3.112-.752 1.234.124 2.503.523 3.388.893v9.923c-.918-.35-2.107-.692-3.287-.81-1.094-.111-2.278-.039-3.213.492V2.687zM8 1.783C7.015.936 5.587.81 4.287.94c-1.514.153-3.042.672-3.994 1.105A.5.5 0 0 0 0 2.5v11a.5.5 0 0 0 .707.455c.882-.4 2.303-.881 3.68-1.02 1.409-.142 2.59.087 3.223.877a.5.5 0 0 0 .78 0c.633-.79 1.814-1.019 3.222-.877 1.378.139 2.8.62 3.681 1.02A.5.5 0 0 0 16 13.5v-11a.5.5 0 0 0-.293-.455c-.952-.433-2.48-.952-3.994-1.105C10.413.809 8.985.936 8 1.783z" />
          </svg>
        </a>

        <ul class="navbar-nav me-auto mb-2 mb-lg-0">
          <li class="nav-item dropdown account-list">
            <a class="nav-link dropdown-toggle text-reset" id="navbarDropdown" role="button" data-bs-toggle="dropdown"
              aria-expanded="false">
              <div class="view overlay">
                <span class="fs15 ">
                  Categories
                  <i class="ps-1">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                      class="bi bi-chevron-down" viewBox="0 0 16 16">
                      <path fill-rule="evenodd"
                        d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z" />
                    </svg>
                  </i>
                </span>
              </div>

            </a>
            <div class="dropdown-menu rounded-1" aria-labelledby="navbarDropdown">
              <div class="card border-0">
                <div class="card-body">
                  <ul class="list-group list-group-flush dropdown-account-link" style="list-style-type: none;">
                    {% for c in categories %}
                    <li {% if category.slug == c.slug %} {% endif %}>
                      <a class="dropdown-item small" href="{{ c.get_absolute_url }}">{{ c.name|title }}</a>
                    </li>
                    {% endfor %}
                  </ul>
                </div>
              </div>
            </div>
          </li>
        </ul>

        <div>
          <div class="collapse navbar-collapse" id="navbarSupportedContent2">
            <ul class="navbar-nav me-auto mb-2 mb-lg-0">
              <li class="nav-item dropdown account-list">

                <a class="nav-link dropdown-toggle text-reset " href="#" id="navbarDropdown" role="button"
                  data-bs-toggle="dropdown" aria-expanded="false">

                  <!-- "Hello, username!" div -->
                  <div class="small text-muted">
                    {% if user.is_authenticated %}
                    Hello, {{ request.user.name }}!
                    {% else %}
                    Hello, Guest
                    {% endif %}
                  </div>

                  <div class="view overlay">
                    <span class="fs15 ">
                      My Account
                      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                        class="bi bi-list" viewBox="0 0 16 16">
                        <path fill-rule="evenodd"
                          d="M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5z" />
                      </svg>
                    </span>
                  </div>

                </a>

                <div class="dropdown-menu rounded-1" aria-labelledby="navbarDropdown">
                  <div class="card border-0">
                    <div class="card-body">
                      <ul class="list-group list-group-flush dropdown-account-link">
                        {% if user.is_authenticated %}
                        <a href="{% url 'account:dashboard' %}"
                          class="dropdown-item small">
                          General Settings
                        </a>
                        <a href="#"
                          class="dropdown-item small">
                          Orders
                        </a>
                        <a href="{% url 'account:logout' %}"
                          class="dropdown-item small">
                          Logout
                        </a>
                        {% else %}
                        <a href="{% url 'account:login' %}"
                        class="dropdown-item small">
                          Login
                        </a>
                        {% endif %}
                      </ul>
                    </div>
                  </div>
                </div>
              </li>
            </ul>
          </div>
        </div>

        

        <!-- BASKET -->
        <a type="button" role="button" href="{% url 'basket:basket-summary' %}"
          class="btn btn-outline-secondary border-0 basket-btn">

          {% with total_qty=basket|length %}
          <div id="basket-qty" class="basket-qty">
            {% if total_qty > 0 %}
            {{ total_qty }}
            {% else %}
            0
            {% endif %}
          </div>
          {% endwith %}
          <div>
            <svg xmlns="http://www.w3.org/2000/svg" width="28" height="30" fill="currentColor" class="bi bi-cart3"
              viewBox="0 0 16 16">
              <path
                d="M0 1.5A.5.5 0 0 1 .5 1H2a.5.5 0 0 1 .485.379L2.89 3H14.5a.5.5 0 0 1 .49.598l-1 5a.5.5 0 0 1-.465.401l-9.397.472L4.415 11H13a.5.5 0 0 1 0 1H4a.5.5 0 0 1-.491-.408L2.01 3.607 1.61 2H.5a.5.5 0 0 1-.5-.5zM3.102 4l.84 4.479 9.144-.459L13.89 4H3.102zM5 12a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm7 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm-7 1a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm7 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2z" />
            </svg>
          </div>
          <span class="fs15 fw500">Basket</span>
        </a>

      </div>
    </div>
  </nav>
</header>